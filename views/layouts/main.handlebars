<html>

  <head>
    <meta charset="utf-8" />
    <title>{{title}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="../public/css/main.css" />
    <link rel="stylesheet" href="../public/css/login.css" />
    <link rel="stylesheet" href="../public/css/signup.css" />
    <link rel="stylesheet" href="../public/css/events.css" />
    <link rel="stylesheet" href="../public/css/about.css" />
    <link rel="stylesheet" href="../public/css/login.css" />
    <link rel="stylesheet" href="../public/css/home.css" />
        <link rel="stylesheet" href="../public/css/event.css" />
        <link rel="stylesheet" href="../public/css/error.css" />

    <link rel="stylesheet" href="../public/css/profile.css" />
    <link rel="stylesheet" href="../public/css/event.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="/home">Helping Hands</a>
        </div>

    <div class="container-fluid">
       <form  method='post' id="searchForm" action="/search" onsubmit="searchClicked()">
        <label for="searchValue" name="searchValue"></label>
          <input id ="searchValue"type="text" name="searchValue" placeholder="Search">
          <button id="searchButton" type="submit" onclick="searchClicked()"><i class="fa fa-search"></i></button>
        </form>
        </div>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="myNavbar">
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="/home">Home</a></li>
              <li class="nav-item"><a
                  class="nav-link"
                  href="/events"
                >Events</a></li>

              <li class="nav-item"><a
                  class="nav-link"
                  href="/about"
                >About</a></li>

              {{#if user}}

                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    href="#"
                    id="navbarScrollingDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Welcome, {{first_name}}
                  </a>
                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                    <li><a
                        class="dropdown-item"
                        class="nav-link"
                        href="/profile"

                      >Profile</a></li>
                    <li><a
                        class="dropdown-item"
                        class="nav-link"
                        href="/landing"
                      >History</a></li>
                    <li><a class="dropdown-item" class="nav-link" href="/logout">Log


                        out</a></li>
                  </ul>
                </li>
              {{else}}
                <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>

              {{/if}}
            </ul>

          </div>

        </div>

      </div>
    </nav>

    {{{body}}}

    <footer id="footer">
      <p></p>
    </footer>
     <script src="/public/js/events.js"></script>
    <script>
      document.getElementById("footer").getElementsByTagName("p")[0].innerHTML =
      "&copy; " + new Date().getFullYear() + " Helping Hands, Inc";
    </script>

    <script>
      var eventSliderIndex = 2; 
      $(".homepage-events .card").css({"max-width":
      "33%","display":"none"}); 
      for(let card=0;card < 3;card++ ){
      $(`.homepage-events .card-${card}`).css( "display","" ); }

   
        $("#pre").html("<"); $("#next").html(">"); 
        $("#pre").prop('disabled',true); 


  
        function showNextEvent(event){ 
          $("#pre").prop('disabled', false); 
          eventSliderIndex++;
          if($(".homepage-events .card").length-1 === eventSliderIndex ){
          $("#next").prop('disabled', true); } 
          $(`.homepage-events .card-${eventSliderIndex}`).css( "display","" ); $(`.homepage-events .card-${eventSliderIndex-3}`).css( "display","none" ); 
        };


        
        function showPreEvent(event){
          $("#next").prop('disabled', false); if(eventSliderIndex === 3){
          $("#pre").prop('disabled', true)}; $(`.homepage-events
          .card-${eventSliderIndex}`).css( "display","none" ); $(`.homepage-events
          .card-${eventSliderIndex-3}`).css( "display","" ); eventSliderIndex--;
        };

      $(document).ready(function() {
        let els = document.getElementsByClassName("card");
        Array.prototype.forEach.call(els, function(el) {
          console.log(el.getElementsByClassName("card-text")[0].textContent);
          el.getElementsByClassName("card-text")[0].innerHTML = el.getElementsByClassName("card-text")[0].textContent.trim().substring(0,100).trim().replace(/.$/,"")+"...";   
        });
      });
    </script>
  </body>
</html>